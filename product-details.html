<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart Details</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/css/style2.css" />
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <!-- --------------------------- Start header-------------------------------------------------- -->
    <nav class="navbar navbar-expand-lg bg-black">
      <div class="container">
        <div class="headerIcons text-white fs-6">
          <i class="fa-brands fa-twitter mx-1"></i>
          <i class="fa-solid fa-envelope mx-1"></i>
          <i class="fa-brands fa-github mx-1"></i>
          <i class="fa-solid fa-phone mx-1"></i>
          <i class="fa-brands fa-youtube mx-1"></i>
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav m-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#">Our Store</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Delivery</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Terms Of Sale</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Support</a>
            </li>
            <li class="nav-item d-flex align-items-center mx-5">
              <div id="clock" class="text-white fs-6"></div>
            </li>
          </ul>
          <button class="btn bg-outline-info" type="submit">
            Get Discound
          </button>
        </div>
      </div>
    </nav>

    <nav class="navbar navbar-expand-lg bg-body-tertiary nav-two sticky-lg-top">
      <div class="container">
        <img src="/imgs/logo.svg" alt="" class="me-5" />
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarScroll"
          aria-controls="navbarScroll"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
          <ul
            class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
            style="--bs-scroll-height: 100px"
          >
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Products</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Category</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Blog</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Shop</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Elements</a>
            </li>
          </ul>
          <button class="btn btn-primary rounded-pill ms-auto">
            <i class="fa-solid fa-bars text-white"></i> Catalog
          </button>
          <ul
            class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
            style="--bs-scroll-height: 100px"
          >
            <i class="nav-icon ms-3 fa-solid fa-magnifying-glass"></i>
            <i class="nav-icon fa-solid fa-user"></i>
            <i class="nav-icon fa-regular fa-heart"></i>
            <i class="nav-icon fa-solid fa-cart-shopping"></i>
          </ul>
        </div>
      </div>
    </nav>

    <!-- --------------------------- End header-------------------------------------------------- -->

    <div class="container mt-5">
      <h2>Cart Details</h2>
      <div id="cart-items" class="row"></div>

      <!-- عرض إجمالي السعر -->
      <div class="mt-4">
        <h4>Total Price: <span id="total-price">0</span> USD</h4>
      </div>
    </div>
    <!-- subscripe section -->
<section class="newsletter-section py-5 section-padding">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 mb-3 mb-lg-0 text-lg-start text-center">
        <h1 class="fw-bold text-dark">Weekly Newsletter</h1>
        <h4 class="mb-1"><strong>Subscribe and receive $10 coupon!</strong></h4>
        <p>Get all promotions info about our sales and offers</p>
      </div>
      <div class="col-lg-6 d-flex justify-content-lg-end justify-content-center">
        <form class="d-flex w-100" action="#" method="post">
          <input type="email" class="form-control form-control-lg me-2 rounded-pill" placeholder="Enter your email..." required>
          <button type="submit" class="btn btn-lg btn-dark rounded-pill">Subscribe</button>
        </form>
      </div>
    </div>
  </div>
</section>

  <footer class="footer">
    <div class="container">
      <div class="footer-top">
        <div class="footer-brand">
          <img src="imgs/footer/logo-footer (1).svg" alt="" >
          <p class="highlight mb-3 fs-3 ">Make stunning shops with TheGem theme!</p>
          <p class="phone fs-4"><i class="fa-solid fa-phone"></i> Call us now: +123 4567 890</p>
          <div class="socials">
            <p>Follow Us in Socials:</p>
            <ul>
              <li><a href="#"><i class="fa-brands fa-twitter"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-facebook"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-github"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-youtube"></i></a></li>
              <li><a href="#"><i class="fa-regular fa-envelope"></i></a></li>
            </ul>
          </div>
        </div>
        <div class="footer-links">
          <div>
            <h4>Our Store</h4>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Delivery</a></li>
              <li><a href="#">Support & FAQ</a></li>
              <li><a href="#">Professional growth</a></li>
            </ul>
          </div>
          <div>
            <h4>Services</h4>
            <ul>
              <li><a href="#">Disclaimer</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Risk Disclosure</a></li>
              <li><a href="#">Terms & Conditions</a></li>
            </ul>
          </div>
          <div>
            <h4>Useful Links</h4>
            <ul>
              <li><a href="#">Gift Vouchers</a></li>
              <li><a href="#">Platform Vision</a></li>
              <li><a href="#">Team Members</a></li>
              <li><a href="#">Referral Program</a></li>
            </ul>
          </div>
        </div>
      </div>
  
      <div class="footer-bottom">
        <p>Copyright © CodexThemes. All Rights Reserved.</p>
        <p>19th Ave New York, NY 95822, USA</p>
        <div class="payment-methods">
          <img src="imgs/footer/visa (1).png" alt="Visa" class="w-25">
          <img src="imgs/footer/mastercard (1).png" alt="MasterCard" class="w-25">
          <img src="imgs/footer/paypal (1).png" alt="PayPal" class="w-25">
          <img src="imgs/footer/bank (1).png" alt="Bank Transfer" class="w-25">
        </div>
      </div>
    </div>
  </footer>
   

    <script>
      let products = JSON.parse(localStorage.getItem("cart")) || [];
      console.log(products);

      const cartItemsContainer = document.getElementById("cart-items");
      const totalPriceElement = document.getElementById("total-price");

      // Function to display products on the page
      function displayProducts() {
        cartItemsContainer.innerHTML = ""; // Clear previous elements

        if (products.length === 0) {
          cartItemsContainer.innerHTML = "<p>No products in cart.</p>";
          totalPriceElement.textContent = "0";
          return;
        }

        products.forEach((product, index) => {
          const productDiv = document.createElement("div");
          productDiv.className = "col-md-4 mb-3";
          productDiv.innerHTML = `
                  <div class="card">
                      <img src="${product.image}" class="card-img-top" alt="${product.name}">
                      <div class="card-body">
                          <h5 class="card-title">${product.name}</h5>
                          <p><strong>Price:</strong> ${product.price} USD</p>
                          <p><strong>Quantity:</strong> <span class="quantity-${index}">${product.quantity}</span></p>
                          <button class="btn btn-primary btn-sm increase-btn" data-index="${index}">+</button>
                          <button class="btn btn-primary btn-sm decrease-btn" data-index="${index}">-</button>
                          <button class="btn btn-danger btn-sm remove-btn" data-index="${index}">Remove</button>
                      </div>
                  </div>
              `;
          cartItemsContainer.appendChild(productDiv);
        });

        // Add event listeners after creating elements
        addEventListeners();

        // Calculate total price after displaying products
        calculateTotalPrice();
      }

      // Function to add event listeners to buttons
      function addEventListeners() {
        document.querySelectorAll(".increase-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const index = this.getAttribute("data-index");
            increaseQuantity(index);
          });
        });

        document.querySelectorAll(".decrease-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const index = this.getAttribute("data-index");
            decreaseQuantity(index);
          });
        });

        document.querySelectorAll(".remove-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const index = this.getAttribute("data-index");
            removeProduct(index);
          });
        });
      }

      // Function to increase quantity
      function increaseQuantity(index) {
        products[index].quantity++;
        updateProductDisplay(index);
      }

      // Function to decrease quantity
      function decreaseQuantity(index) {
        if (products[index].quantity > 1) {
          products[index].quantity--;
          updateProductDisplay(index);
        }
      }

      // Function to update product display
      function updateProductDisplay(index) {
        document.querySelector(`.quantity-${index}`).textContent =
          products[index].quantity;
        localStorage.setItem("cart", JSON.stringify(products));
        calculateTotalPrice();
      }

      // Function to remove product
      function removeProduct(index) {
        products.splice(index, 1);
        localStorage.setItem("cart", JSON.stringify(products));
        displayProducts();
      }

      // Function to calculate total price
      function calculateTotalPrice() {
        const total = products.reduce((acc, product) => {
          const price = parseFloat(product.price.replace("$", ""));
          return acc + price * product.quantity;
        }, 0);

        totalPriceElement.textContent = total.toFixed(2);
      }

      // Display products when page loads
      displayProducts();
    </script>
  </body>
</html>
